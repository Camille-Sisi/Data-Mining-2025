<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section9 Les applications interactives avec Shiny App | DATA MINING</title>
  <meta name="description" content="Titre du cours" />
  <meta name="generator" content="bookdown 0.42 and GitBook 2.6.7" />

  <meta property="og:title" content="Section9 Les applications interactives avec Shiny App | DATA MINING" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Titre du cours" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section9 Les applications interactives avec Shiny App | DATA MINING" />
  
  <meta name="twitter:description" content="Titre du cours" />
  

<meta name="author" content="Camille Signoretto, Maîtresse de conférences en économie, Université Paris Cité" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="08-Ggplot-pratique.html"/>
<link rel="next" href="10-Intro-a-Shiny-exemples.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="css/tidyverse.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Mining :  <em>Camille Signoretto</em></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="00-Presentation.html"><a href="00-Presentation.html"><i class="fa fa-check"></i>Présentation</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DATA MINING</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="c09-Intro-a-Shiny-theorique" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">Section9</span> Les applications interactives avec Shiny App<a href="09-Intro-a-Shiny-theorique.html#c09-Intro-a-Shiny-theorique" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div align="justify">
<p>Comme indiqué sur la page officielle de Shiny-RStudio <a href="https://shiny.posit.co/" target="_blank">ici</a>, Shiny est un package R qui permet de créer des applications ou des pages web de visualisations interactives de données, directement à partir de R, autremet dit sans connaître nécessairement le langage HTML, Javascript, etc., et donc aussi en pouvant utiliser toutes les fonctions disponibles sous R. En réalité, l’interface utilisateur de l’application Shiny est bien du langage HTML, mais Shiny donne des outils faciles pour l’écrire sans avoir à connaître le HTML.</p>
<p>Il nous faut d’abord installer le package <strong><code>Shiny</code></strong>, puis le charger :</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="09-Intro-a-Shiny-theorique.html#cb120-1" tabindex="-1"></a><span class="co">#install.packages(&quot;shiny&quot;)</span></span>
<span id="cb120-2"><a href="09-Intro-a-Shiny-theorique.html#cb120-2" tabindex="-1"></a><span class="fu">library</span>(shiny)</span></code></pre></div>
<p>Des exemples d’application Shiny sont données sur la page officielle dans la <a href="https://shiny.posit.co/r/gallery/" target="_blank">galerie</a> ; ou on peut aussi en lancer une directement dans R, avec par exemple le code suivant :</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="09-Intro-a-Shiny-theorique.html#cb121-1" tabindex="-1"></a><span class="co"># Voici la liste des exemples que vous pouvez spécifier dans la fonction </span></span>
<span id="cb121-2"><a href="09-Intro-a-Shiny-theorique.html#cb121-2" tabindex="-1"></a><span class="co"># suivante : &quot;01_hello&quot;, &quot;02_text&quot;, &quot;03_reactivity&quot;, &quot;04_mpg&quot;, </span></span>
<span id="cb121-3"><a href="09-Intro-a-Shiny-theorique.html#cb121-3" tabindex="-1"></a><span class="co"># &quot;05_sliders&quot;, &quot;06_tabsets&quot;, &quot;07_widgets&quot;, &quot;08_html&quot;, &quot;09_upload&quot;,</span></span>
<span id="cb121-4"><a href="09-Intro-a-Shiny-theorique.html#cb121-4" tabindex="-1"></a><span class="co"># &quot;10_download&quot;, &quot;11_timer&quot;</span></span>
<span id="cb121-5"><a href="09-Intro-a-Shiny-theorique.html#cb121-5" tabindex="-1"></a><span class="fu">runExample</span>(<span class="st">&quot;01_hello&quot;</span>)</span>
<span id="cb121-6"><a href="09-Intro-a-Shiny-theorique.html#cb121-6" tabindex="-1"></a><span class="fu">runExample</span>(<span class="st">&quot;05_sliders&quot;</span>)</span></code></pre></div>
<p>Un autre exemple d’application finale qui comprend un aspect territorial donc avec de jolis cartes, et qui s’appuie sur les données du Recensement de la population (rassemblées par l’Insee sur la période 1968-2019 et qui forme la base Saphir), est disponible <a href="https://francestrategie.shinyapps.io/app_seg/" target="_blank">ici</a> .</p>
<p>Enfin, cette introduction s’appuie sur d’autres ressources externes, pour n’en citer que quelques uns : - un bon tutoriel <a href="https://deanattali.com/blog/building-shiny-apps-tutorial/" target="_blank">ici</a> ; - une introduction claire <a href="https://laderast.github.io/gradual_shiny/introduction.html" target="_blank">là</a>. Et vous trouverez sur les 2 liens suivants deux ouvrages en ligne, pour compléter et aller plus loin : the <a href="https://mastering-shiny.org/index.html" target="_blank">Mastering Shiny</a> ; et the <a href="https://plotly-r.com/" target="_blank">Interactive web-based data visualization with R, plotly, and shiny</a>.</p>
<div id="la-structure-générale-dune-application-shiny" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> La structure générale d’une application Shiny<a href="09-Intro-a-Shiny-theorique.html#la-structure-générale-dune-application-shiny" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>L’application est divisée en 2 sections : l’<strong>interface utilisateur</strong> (<strong>ui</strong>) et une <strong>fonction serveur</strong> (<strong>server</strong>). L’intérêt de Shiny est sa réactivité : quand l’utilisateur change un paramètre, tout ce qui dépend de ce paramètre est automatiquement actualisé sur la page. On dit que c’est une application “server-based”, dans la mesure où la construction des graphiques et/ou tableaux affichés (ou tout autre objet) se font sur le serveur, autrement dit sur le RStudio de votre ordinateur.<br />
Ainsi, comme on peut le voir sur les exemples cités au-dessus, la structure du code sera toujours la suivante :</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="09-Intro-a-Shiny-theorique.html#cb122-1" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb122-2"><a href="09-Intro-a-Shiny-theorique.html#cb122-2" tabindex="-1"></a></span>
<span id="cb122-3"><a href="09-Intro-a-Shiny-theorique.html#cb122-3" tabindex="-1"></a><span class="co"># Fonction &quot;ui&quot;</span></span>
<span id="cb122-4"><a href="09-Intro-a-Shiny-theorique.html#cb122-4" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb122-5"><a href="09-Intro-a-Shiny-theorique.html#cb122-5" tabindex="-1"></a>                )</span>
<span id="cb122-6"><a href="09-Intro-a-Shiny-theorique.html#cb122-6" tabindex="-1"></a></span>
<span id="cb122-7"><a href="09-Intro-a-Shiny-theorique.html#cb122-7" tabindex="-1"></a><span class="co"># Fonction &quot;server&quot;</span></span>
<span id="cb122-8"><a href="09-Intro-a-Shiny-theorique.html#cb122-8" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb122-9"><a href="09-Intro-a-Shiny-theorique.html#cb122-9" tabindex="-1"></a>  </span>
<span id="cb122-10"><a href="09-Intro-a-Shiny-theorique.html#cb122-10" tabindex="-1"></a>                   }</span>
<span id="cb122-11"><a href="09-Intro-a-Shiny-theorique.html#cb122-11" tabindex="-1"></a></span>
<span id="cb122-12"><a href="09-Intro-a-Shiny-theorique.html#cb122-12" tabindex="-1"></a><span class="co"># Fonction qui crée l&#39;application Shiny en reprenant les 2 fonctions </span></span>
<span id="cb122-13"><a href="09-Intro-a-Shiny-theorique.html#cb122-13" tabindex="-1"></a><span class="co"># principales. A noter que comme elles ont le même nom, souvent on ne </span></span>
<span id="cb122-14"><a href="09-Intro-a-Shiny-theorique.html#cb122-14" tabindex="-1"></a><span class="co"># précisera pas de nouveau les arguments &quot;ui = &quot; et &quot;server = &quot;</span></span>
<span id="cb122-15"><a href="09-Intro-a-Shiny-theorique.html#cb122-15" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
<div id="la-partie-ui" class="section level3 hasAnchor" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> La partie “UI”<a href="09-Intro-a-Shiny-theorique.html#la-partie-ui" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>L’<strong><code>UI</code></strong> ou “interface utilisateur” utilise par défaut la fonction <strong><code>fluidPage()</code></strong> qui permet de créer la mise en page de l’application et qui répondra automatiquement aux changements effectués sur le navigateur par l’utilisateur.<br />
Cette fonction <code>fluidPage()</code> va contenir des indications comme le titre (avec <strong><code>titlePanel()</code></strong>), éventuellement un sous-titre, etc., ainsi que deux fonctions <strong><code>sidebarLayout()</code></strong> et <strong><code>mainPanel()</code></strong>.<br />
Le première comprend la fonction <code>sidebarPanel()</code> qui contient le ou les “widgets” à partir duquel ou desquels les utilisateurs sélectionneront des valeurs – par défaut est indiqué un <code>sliderInput()</code>. La seconde contient la sortie voulue, c’est-à-dire un graphique, un tableau, etc., avec par défaut la fonction <code>plotOutput()</code>, mais elle peut en contenir d’autres… Les graphiques ou tableaux de ces fonctions <code>...Ouput()</code> sont ensuite précisées (et construits) dans la partie “<strong>Server</strong>” de l’application Shiny.</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="09-Intro-a-Shiny-theorique.html#cb123-1" tabindex="-1"></a><span class="co">#library(shiny)</span></span>
<span id="cb123-2"><a href="09-Intro-a-Shiny-theorique.html#cb123-2" tabindex="-1"></a></span>
<span id="cb123-3"><a href="09-Intro-a-Shiny-theorique.html#cb123-3" tabindex="-1"></a><span class="co"># Fonction &quot;ui&quot;</span></span>
<span id="cb123-4"><a href="09-Intro-a-Shiny-theorique.html#cb123-4" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb123-5"><a href="09-Intro-a-Shiny-theorique.html#cb123-5" tabindex="-1"></a>  <span class="co"># Titre de l&#39;application</span></span>
<span id="cb123-6"><a href="09-Intro-a-Shiny-theorique.html#cb123-6" tabindex="-1"></a>  <span class="fu">titlePanel</span>(<span class="st">&quot;Titre à définir&quot;</span>),</span>
<span id="cb123-7"><a href="09-Intro-a-Shiny-theorique.html#cb123-7" tabindex="-1"></a>  </span>
<span id="cb123-8"><a href="09-Intro-a-Shiny-theorique.html#cb123-8" tabindex="-1"></a>  <span class="co"># Mise en page de la barre latérale avec les définitions des </span></span>
<span id="cb123-9"><a href="09-Intro-a-Shiny-theorique.html#cb123-9" tabindex="-1"></a>  <span class="co"># entrées et des sorties</span></span>
<span id="cb123-10"><a href="09-Intro-a-Shiny-theorique.html#cb123-10" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb123-11"><a href="09-Intro-a-Shiny-theorique.html#cb123-11" tabindex="-1"></a>    </span>
<span id="cb123-12"><a href="09-Intro-a-Shiny-theorique.html#cb123-12" tabindex="-1"></a>    <span class="co"># Panneau latéral pour les entrées</span></span>
<span id="cb123-13"><a href="09-Intro-a-Shiny-theorique.html#cb123-13" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="cb123-14"><a href="09-Intro-a-Shiny-theorique.html#cb123-14" tabindex="-1"></a>      </span>
<span id="cb123-15"><a href="09-Intro-a-Shiny-theorique.html#cb123-15" tabindex="-1"></a>      <span class="co"># Entrée : wigdet choisi, par défaut &quot;sliderInput()&quot;</span></span>
<span id="cb123-16"><a href="09-Intro-a-Shiny-theorique.html#cb123-16" tabindex="-1"></a>      <span class="fu">sliderInput</span>(</span>
<span id="cb123-17"><a href="09-Intro-a-Shiny-theorique.html#cb123-17" tabindex="-1"></a>        </span>
<span id="cb123-18"><a href="09-Intro-a-Shiny-theorique.html#cb123-18" tabindex="-1"></a>      )</span>
<span id="cb123-19"><a href="09-Intro-a-Shiny-theorique.html#cb123-19" tabindex="-1"></a>      </span>
<span id="cb123-20"><a href="09-Intro-a-Shiny-theorique.html#cb123-20" tabindex="-1"></a>    ),</span>
<span id="cb123-21"><a href="09-Intro-a-Shiny-theorique.html#cb123-21" tabindex="-1"></a>    <span class="co"># Panneau principal pour l&#39;affichage des sorties</span></span>
<span id="cb123-22"><a href="09-Intro-a-Shiny-theorique.html#cb123-22" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="cb123-23"><a href="09-Intro-a-Shiny-theorique.html#cb123-23" tabindex="-1"></a>      <span class="co"># Sortie : graphique, tableau, etc.</span></span>
<span id="cb123-24"><a href="09-Intro-a-Shiny-theorique.html#cb123-24" tabindex="-1"></a>      <span class="fu">plotOutput</span>(<span class="st">&quot;nom_du_graphe&quot;</span>)</span>
<span id="cb123-25"><a href="09-Intro-a-Shiny-theorique.html#cb123-25" tabindex="-1"></a>      )</span>
<span id="cb123-26"><a href="09-Intro-a-Shiny-theorique.html#cb123-26" tabindex="-1"></a>    )</span>
<span id="cb123-27"><a href="09-Intro-a-Shiny-theorique.html#cb123-27" tabindex="-1"></a>  )</span>
<span id="cb123-28"><a href="09-Intro-a-Shiny-theorique.html#cb123-28" tabindex="-1"></a></span>
<span id="cb123-29"><a href="09-Intro-a-Shiny-theorique.html#cb123-29" tabindex="-1"></a><span class="co"># Fonction &quot;server&quot;</span></span>
<span id="cb123-30"><a href="09-Intro-a-Shiny-theorique.html#cb123-30" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb123-31"><a href="09-Intro-a-Shiny-theorique.html#cb123-31" tabindex="-1"></a>  </span>
<span id="cb123-32"><a href="09-Intro-a-Shiny-theorique.html#cb123-32" tabindex="-1"></a>                   }</span>
<span id="cb123-33"><a href="09-Intro-a-Shiny-theorique.html#cb123-33" tabindex="-1"></a></span>
<span id="cb123-34"><a href="09-Intro-a-Shiny-theorique.html#cb123-34" tabindex="-1"></a><span class="co"># Fonction qui crée l&#39;application Shiny</span></span>
<span id="cb123-35"><a href="09-Intro-a-Shiny-theorique.html#cb123-35" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
<p>La liste des widgets est reproduite ci-dessous avec un tableau et une image récapitulative (disponible directement <a href="https://shiny.rstudio.com/gallery/widget-gallery.html" target="_blank">ici</a>) ; à part les arguments communs <code>inputID()</code> et <code>label()</code>, les autres arguments diffèrent selon le widget, il est donc essentiel d’y faire un tour avant d’en utiliser un si l’on ne le connaît pas <em>a priori</em>.</p>
<table>
<caption><strong>Tableau : Fonctions Shiny et widgets associés</strong></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Fonction</th>
<th align="left">Widget</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">sliderInput</td>
<td align="left">Barre de défilement</td>
</tr>
<tr class="even">
<td align="left">actionButton</td>
<td align="left">Bouton d’action</td>
</tr>
<tr class="odd">
<td align="left">checkboxGroupInput</td>
<td align="left">Groupe de cases à cocher</td>
</tr>
<tr class="even">
<td align="left">checkboxInput</td>
<td align="left">Case unique à cocher</td>
</tr>
<tr class="odd">
<td align="left">dateInput</td>
<td align="left">calendrier pour sélectionner une ou des dates</td>
</tr>
<tr class="even">
<td align="left">dateRangeInput</td>
<td align="left">Paire de calendriers pour sélectionner une plage de dates</td>
</tr>
<tr class="odd">
<td align="left">numericInput</td>
<td align="left">Champ pour saisir des chiffres</td>
</tr>
<tr class="even">
<td align="left">radioButtons</td>
<td align="left">Série de boutons radio</td>
</tr>
<tr class="odd">
<td align="left">selectInput</td>
<td align="left">Boîte avec des choix à sélectionner</td>
</tr>
<tr class="even">
<td align="left">submitButton</td>
<td align="left">Bouton de validation</td>
</tr>
<tr class="odd">
<td align="left">fileInput</td>
<td align="left">Commande pour télécharger un fichier à partir d’un chemin</td>
</tr>
<tr class="even">
<td align="left">textInput</td>
<td align="left">Champ pour saisir du texte</td>
</tr>
<tr class="odd">
<td align="left">helpText</td>
<td align="left">Texte d’aide qui peut être ajouté à un formulaire de saisie</td>
</tr>
</tbody>
</table>
<p><strong>Widgets de l’application Shiny</strong></p>
<p><img src="images/Liste%20Widgets%20Shiny.png" /></p>
<p>D’autres interfaces utilisateur existent. Par exemple, avec le package <strong><code>bslib</code></strong>, on peut utiliser la fonction <code>page_sidebar()</code> à la place de <code>fluidPage()</code>, comme ceci :</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="09-Intro-a-Shiny-theorique.html#cb124-1" tabindex="-1"></a><span class="co">#library(shiny)</span></span>
<span id="cb124-2"><a href="09-Intro-a-Shiny-theorique.html#cb124-2" tabindex="-1"></a><span class="fu">library</span>(bslib)</span>
<span id="cb124-3"><a href="09-Intro-a-Shiny-theorique.html#cb124-3" tabindex="-1"></a></span>
<span id="cb124-4"><a href="09-Intro-a-Shiny-theorique.html#cb124-4" tabindex="-1"></a><span class="co"># Fonction &quot;ui&quot;</span></span>
<span id="cb124-5"><a href="09-Intro-a-Shiny-theorique.html#cb124-5" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">page_sidebar</span>(</span>
<span id="cb124-6"><a href="09-Intro-a-Shiny-theorique.html#cb124-6" tabindex="-1"></a>  </span>
<span id="cb124-7"><a href="09-Intro-a-Shiny-theorique.html#cb124-7" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Titre à définir&quot;</span>,</span>
<span id="cb124-8"><a href="09-Intro-a-Shiny-theorique.html#cb124-8" tabindex="-1"></a>  </span>
<span id="cb124-9"><a href="09-Intro-a-Shiny-theorique.html#cb124-9" tabindex="-1"></a>  <span class="at">sidebar =</span> <span class="fu">sidebar</span>(<span class="st">&quot;Barre latéral&quot;</span>),</span>
<span id="cb124-10"><a href="09-Intro-a-Shiny-theorique.html#cb124-10" tabindex="-1"></a>  </span>
<span id="cb124-11"><a href="09-Intro-a-Shiny-theorique.html#cb124-11" tabindex="-1"></a>  <span class="st">&quot;Contenu principal&quot;</span>,</span>
<span id="cb124-12"><a href="09-Intro-a-Shiny-theorique.html#cb124-12" tabindex="-1"></a></span>
<span id="cb124-13"><a href="09-Intro-a-Shiny-theorique.html#cb124-13" tabindex="-1"></a>  <span class="fu">mainPanel</span>(</span>
<span id="cb124-14"><a href="09-Intro-a-Shiny-theorique.html#cb124-14" tabindex="-1"></a>      <span class="co"># Sortie : graphique, tableau, etc.</span></span>
<span id="cb124-15"><a href="09-Intro-a-Shiny-theorique.html#cb124-15" tabindex="-1"></a>      <span class="fu">plotOutput</span>(<span class="st">&quot;nom_du_graphe&quot;</span>)</span>
<span id="cb124-16"><a href="09-Intro-a-Shiny-theorique.html#cb124-16" tabindex="-1"></a>      )</span>
<span id="cb124-17"><a href="09-Intro-a-Shiny-theorique.html#cb124-17" tabindex="-1"></a>)</span>
<span id="cb124-18"><a href="09-Intro-a-Shiny-theorique.html#cb124-18" tabindex="-1"></a></span>
<span id="cb124-19"><a href="09-Intro-a-Shiny-theorique.html#cb124-19" tabindex="-1"></a><span class="co"># Fonction &quot;server&quot;</span></span>
<span id="cb124-20"><a href="09-Intro-a-Shiny-theorique.html#cb124-20" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb124-21"><a href="09-Intro-a-Shiny-theorique.html#cb124-21" tabindex="-1"></a>  </span>
<span id="cb124-22"><a href="09-Intro-a-Shiny-theorique.html#cb124-22" tabindex="-1"></a>                   }</span>
<span id="cb124-23"><a href="09-Intro-a-Shiny-theorique.html#cb124-23" tabindex="-1"></a></span>
<span id="cb124-24"><a href="09-Intro-a-Shiny-theorique.html#cb124-24" tabindex="-1"></a><span class="co"># Fonction qui crée l&#39;application Shiny</span></span>
<span id="cb124-25"><a href="09-Intro-a-Shiny-theorique.html#cb124-25" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
<p>Ou encore la fonction <code>navbarPage()</code> pour permettre plusieurs onglets de navigation sur la même page web (que l’on créera avec la fonction <code>tabPanel()</code> à l’intérieur de laquelle on retrouvera les fonctions <code>sidebarPanel()</code> et <code>mainPanel()</code>) :</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="09-Intro-a-Shiny-theorique.html#cb125-1" tabindex="-1"></a><span class="co"># Fonction &quot;server&quot;</span></span>
<span id="cb125-2"><a href="09-Intro-a-Shiny-theorique.html#cb125-2" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb125-3"><a href="09-Intro-a-Shiny-theorique.html#cb125-3" tabindex="-1"></a></span>
<span id="cb125-4"><a href="09-Intro-a-Shiny-theorique.html#cb125-4" tabindex="-1"></a>  <span class="at">title=</span><span class="st">&quot;Titre à définir&quot;</span>,</span>
<span id="cb125-5"><a href="09-Intro-a-Shiny-theorique.html#cb125-5" tabindex="-1"></a>  </span>
<span id="cb125-6"><a href="09-Intro-a-Shiny-theorique.html#cb125-6" tabindex="-1"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">&quot;Graphique&quot;</span>,</span>
<span id="cb125-7"><a href="09-Intro-a-Shiny-theorique.html#cb125-7" tabindex="-1"></a>           <span class="fu">fluidPage</span>(</span>
<span id="cb125-8"><a href="09-Intro-a-Shiny-theorique.html#cb125-8" tabindex="-1"></a>             <span class="fu">sidebarLayout</span>(</span>
<span id="cb125-9"><a href="09-Intro-a-Shiny-theorique.html#cb125-9" tabindex="-1"></a>               <span class="fu">sidebarPanel</span>(</span>
<span id="cb125-10"><a href="09-Intro-a-Shiny-theorique.html#cb125-10" tabindex="-1"></a>                 <span class="co"># sliderInput(</span></span>
<span id="cb125-11"><a href="09-Intro-a-Shiny-theorique.html#cb125-11" tabindex="-1"></a>                 <span class="co">#    )</span></span>
<span id="cb125-12"><a href="09-Intro-a-Shiny-theorique.html#cb125-12" tabindex="-1"></a>                 ),</span>
<span id="cb125-13"><a href="09-Intro-a-Shiny-theorique.html#cb125-13" tabindex="-1"></a>               <span class="fu">mainPanel</span>(</span>
<span id="cb125-14"><a href="09-Intro-a-Shiny-theorique.html#cb125-14" tabindex="-1"></a>                 <span class="fu">plotOutput</span>(<span class="st">&quot;nom_du_graphe&quot;</span>)</span>
<span id="cb125-15"><a href="09-Intro-a-Shiny-theorique.html#cb125-15" tabindex="-1"></a>                 )             </span>
<span id="cb125-16"><a href="09-Intro-a-Shiny-theorique.html#cb125-16" tabindex="-1"></a>               )</span>
<span id="cb125-17"><a href="09-Intro-a-Shiny-theorique.html#cb125-17" tabindex="-1"></a>           )</span>
<span id="cb125-18"><a href="09-Intro-a-Shiny-theorique.html#cb125-18" tabindex="-1"></a>           ),</span>
<span id="cb125-19"><a href="09-Intro-a-Shiny-theorique.html#cb125-19" tabindex="-1"></a>  </span>
<span id="cb125-20"><a href="09-Intro-a-Shiny-theorique.html#cb125-20" tabindex="-1"></a>  <span class="fu">tabPanel</span>(<span class="st">&quot;Résumé des variables&quot;</span>),</span>
<span id="cb125-21"><a href="09-Intro-a-Shiny-theorique.html#cb125-21" tabindex="-1"></a>  </span>
<span id="cb125-22"><a href="09-Intro-a-Shiny-theorique.html#cb125-22" tabindex="-1"></a>  <span class="fu">tabPanel</span>(<span class="st">&quot;Tableau&quot;</span>),</span>
<span id="cb125-23"><a href="09-Intro-a-Shiny-theorique.html#cb125-23" tabindex="-1"></a>   </span>
<span id="cb125-24"><a href="09-Intro-a-Shiny-theorique.html#cb125-24" tabindex="-1"></a>    )</span>
<span id="cb125-25"><a href="09-Intro-a-Shiny-theorique.html#cb125-25" tabindex="-1"></a></span>
<span id="cb125-26"><a href="09-Intro-a-Shiny-theorique.html#cb125-26" tabindex="-1"></a><span class="co"># Fonction &quot;server&quot;</span></span>
<span id="cb125-27"><a href="09-Intro-a-Shiny-theorique.html#cb125-27" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb125-28"><a href="09-Intro-a-Shiny-theorique.html#cb125-28" tabindex="-1"></a>  </span>
<span id="cb125-29"><a href="09-Intro-a-Shiny-theorique.html#cb125-29" tabindex="-1"></a>                   }</span>
<span id="cb125-30"><a href="09-Intro-a-Shiny-theorique.html#cb125-30" tabindex="-1"></a></span>
<span id="cb125-31"><a href="09-Intro-a-Shiny-theorique.html#cb125-31" tabindex="-1"></a><span class="co"># Fonction qui crée l&#39;application Shiny</span></span>
<span id="cb125-32"><a href="09-Intro-a-Shiny-theorique.html#cb125-32" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
<div id="la-partie-server" class="section level3 hasAnchor" number="9.1.2">
<h3><span class="header-section-number">9.1.2</span> La partie “Server”<a href="09-Intro-a-Shiny-theorique.html#la-partie-server" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>C’est la fonction <strong><code>Server</code></strong> qui contient le code principal faisant tourner l’application web.<br />
Elle est définie par la fonction <code>function(input, output){ }</code>. À chaque fonction <code>...Ouput()</code> dans l’<strong>ui</strong> correspond une fonction <code>render...()</code> dans la partie <strong><code>Server</code></strong>. Par exemple, si dans la partie <strong><code>ui</code></strong>, on a définit un histogramme comme ceci dans la fonction : <code>plotOuput("distPlot")</code>, alors dans la partie <strong><code>server</code></strong>, on associera la fonction <code>renderPlot()</code> à <code>output$distPlot</code>. Les fonctions <code>render...()</code> sont celles qui contiennent en effet le code créant, l’histogramme ici, ou tout autre graphique ou tableau, l’ensemble de l’expression à l’intérieur de cette fonction sera contenu dans des accolades <code>{}</code>.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="09-Intro-a-Shiny-theorique.html#cb126-1" tabindex="-1"></a><span class="co">#library(shiny)</span></span>
<span id="cb126-2"><a href="09-Intro-a-Shiny-theorique.html#cb126-2" tabindex="-1"></a></span>
<span id="cb126-3"><a href="09-Intro-a-Shiny-theorique.html#cb126-3" tabindex="-1"></a><span class="co"># Fonction &quot;ui&quot;</span></span>
<span id="cb126-4"><a href="09-Intro-a-Shiny-theorique.html#cb126-4" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb126-5"><a href="09-Intro-a-Shiny-theorique.html#cb126-5" tabindex="-1"></a>    <span class="co"># Titre de l&#39;application</span></span>
<span id="cb126-6"><a href="09-Intro-a-Shiny-theorique.html#cb126-6" tabindex="-1"></a>  <span class="fu">titlePanel</span>(<span class="st">&quot;Titre à définir&quot;</span>),</span>
<span id="cb126-7"><a href="09-Intro-a-Shiny-theorique.html#cb126-7" tabindex="-1"></a>  </span>
<span id="cb126-8"><a href="09-Intro-a-Shiny-theorique.html#cb126-8" tabindex="-1"></a>  <span class="co"># Mise en page de la barre latérale avec les définitions des </span></span>
<span id="cb126-9"><a href="09-Intro-a-Shiny-theorique.html#cb126-9" tabindex="-1"></a>  <span class="co"># entrées et des sorties</span></span>
<span id="cb126-10"><a href="09-Intro-a-Shiny-theorique.html#cb126-10" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb126-11"><a href="09-Intro-a-Shiny-theorique.html#cb126-11" tabindex="-1"></a>    </span>
<span id="cb126-12"><a href="09-Intro-a-Shiny-theorique.html#cb126-12" tabindex="-1"></a>    <span class="co"># Panneau latéral pour les entrées</span></span>
<span id="cb126-13"><a href="09-Intro-a-Shiny-theorique.html#cb126-13" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="cb126-14"><a href="09-Intro-a-Shiny-theorique.html#cb126-14" tabindex="-1"></a>      </span>
<span id="cb126-15"><a href="09-Intro-a-Shiny-theorique.html#cb126-15" tabindex="-1"></a>      <span class="co"># Entrée : wigdet choisi, par défaut &quot;sliderInput()&quot;</span></span>
<span id="cb126-16"><a href="09-Intro-a-Shiny-theorique.html#cb126-16" tabindex="-1"></a>      <span class="fu">sliderInput</span>(</span>
<span id="cb126-17"><a href="09-Intro-a-Shiny-theorique.html#cb126-17" tabindex="-1"></a>        </span>
<span id="cb126-18"><a href="09-Intro-a-Shiny-theorique.html#cb126-18" tabindex="-1"></a>      )</span>
<span id="cb126-19"><a href="09-Intro-a-Shiny-theorique.html#cb126-19" tabindex="-1"></a>      </span>
<span id="cb126-20"><a href="09-Intro-a-Shiny-theorique.html#cb126-20" tabindex="-1"></a>      ),</span>
<span id="cb126-21"><a href="09-Intro-a-Shiny-theorique.html#cb126-21" tabindex="-1"></a>    </span>
<span id="cb126-22"><a href="09-Intro-a-Shiny-theorique.html#cb126-22" tabindex="-1"></a>    <span class="co"># Panneau principal pour l&#39;affichage des sorties</span></span>
<span id="cb126-23"><a href="09-Intro-a-Shiny-theorique.html#cb126-23" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="cb126-24"><a href="09-Intro-a-Shiny-theorique.html#cb126-24" tabindex="-1"></a>      <span class="co"># Sortie : graphique, tableau, etc.</span></span>
<span id="cb126-25"><a href="09-Intro-a-Shiny-theorique.html#cb126-25" tabindex="-1"></a>      <span class="fu">plotOutput</span>(<span class="st">&quot;nom_du_graphe&quot;</span>)</span>
<span id="cb126-26"><a href="09-Intro-a-Shiny-theorique.html#cb126-26" tabindex="-1"></a>      )</span>
<span id="cb126-27"><a href="09-Intro-a-Shiny-theorique.html#cb126-27" tabindex="-1"></a>    </span>
<span id="cb126-28"><a href="09-Intro-a-Shiny-theorique.html#cb126-28" tabindex="-1"></a>    )</span>
<span id="cb126-29"><a href="09-Intro-a-Shiny-theorique.html#cb126-29" tabindex="-1"></a>  </span>
<span id="cb126-30"><a href="09-Intro-a-Shiny-theorique.html#cb126-30" tabindex="-1"></a>  )</span>
<span id="cb126-31"><a href="09-Intro-a-Shiny-theorique.html#cb126-31" tabindex="-1"></a></span>
<span id="cb126-32"><a href="09-Intro-a-Shiny-theorique.html#cb126-32" tabindex="-1"></a><span class="co"># Fonction &quot;server&quot;</span></span>
<span id="cb126-33"><a href="09-Intro-a-Shiny-theorique.html#cb126-33" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb126-34"><a href="09-Intro-a-Shiny-theorique.html#cb126-34" tabindex="-1"></a>  </span>
<span id="cb126-35"><a href="09-Intro-a-Shiny-theorique.html#cb126-35" tabindex="-1"></a>  <span class="co"># Reprend la sortie mentionnée plus haut (ici &quot;nom_du_graphe&quot;)</span></span>
<span id="cb126-36"><a href="09-Intro-a-Shiny-theorique.html#cb126-36" tabindex="-1"></a>  output<span class="sc">$</span>nom_du_graphe <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb126-37"><a href="09-Intro-a-Shiny-theorique.html#cb126-37" tabindex="-1"></a>    </span>
<span id="cb126-38"><a href="09-Intro-a-Shiny-theorique.html#cb126-38" tabindex="-1"></a>    <span class="co"># code de création du graphique, qui sera réactive selon les </span></span>
<span id="cb126-39"><a href="09-Intro-a-Shiny-theorique.html#cb126-39" tabindex="-1"></a>    <span class="co"># valeurs données en entrées (cf. fonction &quot;fluidPage()&quot;)</span></span>
<span id="cb126-40"><a href="09-Intro-a-Shiny-theorique.html#cb126-40" tabindex="-1"></a>    </span>
<span id="cb126-41"><a href="09-Intro-a-Shiny-theorique.html#cb126-41" tabindex="-1"></a>  })</span>
<span id="cb126-42"><a href="09-Intro-a-Shiny-theorique.html#cb126-42" tabindex="-1"></a>                   }</span>
<span id="cb126-43"><a href="09-Intro-a-Shiny-theorique.html#cb126-43" tabindex="-1"></a></span>
<span id="cb126-44"><a href="09-Intro-a-Shiny-theorique.html#cb126-44" tabindex="-1"></a><span class="co"># Fonction qui crée l&#39;application Shiny</span></span>
<span id="cb126-45"><a href="09-Intro-a-Shiny-theorique.html#cb126-45" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
<p>Voici les différentes fonctions <code>...Ouput()</code> créant un objet de sortie :</p>
<table>
<thead>
<tr class="header">
<th align="left">Fonction de sortie</th>
<th align="left">Type d’objet créé</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dataTableOutput</td>
<td align="left">Table de données</td>
</tr>
<tr class="even">
<td align="left">imageOutput</td>
<td align="left">Image</td>
</tr>
<tr class="odd">
<td align="left">plotOutput</td>
<td align="left">Graphique</td>
</tr>
<tr class="even">
<td align="left">tableOutput</td>
<td align="left">Table</td>
</tr>
<tr class="odd">
<td align="left">textOutput</td>
<td align="left">Texte</td>
</tr>
<tr class="even">
<td align="left">uiOutput</td>
<td align="left">HTML brut</td>
</tr>
<tr class="odd">
<td align="left">htmlOutput</td>
<td align="left">HTML brut</td>
</tr>
<tr class="even">
<td align="left">verbatimTextOutput</td>
<td align="left">Texte</td>
</tr>
</tbody>
</table>
<p>Et les fonctions <code>render...()</code> associées :</p>
<table>
<colgroup>
<col width="51%" />
<col width="48%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Fonction de sortie</th>
<th align="left">Type d’objet créé</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">renderDataTable</td>
<td align="left">Table de données</td>
</tr>
<tr class="even">
<td align="left">renderImage</td>
<td align="left">Image (enregistré comme un lien vers un fichier source)</td>
</tr>
<tr class="odd">
<td align="left">renderPlot</td>
<td align="left">Graphique</td>
</tr>
<tr class="even">
<td align="left">renderTable</td>
<td align="left">Table de données, matrices, ou autres structures de type tableau</td>
</tr>
<tr class="odd">
<td align="left">renderText</td>
<td align="left">Texte sous forme de chaînes de caractères</td>
</tr>
<tr class="even">
<td align="left">renderUI</td>
<td align="left">objet de balise Shiny ou HTML</td>
</tr>
<tr class="odd">
<td align="left">renderPrint</td>
<td align="left">Toute sortie imprimée</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="la-réactivité" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> La réactivité<a href="09-Intro-a-Shiny-theorique.html#la-réactivité" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Comme dit précédemment, la réactivité est au centre du fonctionnement d’une application Shiny. Plusieurs types de réactivité peut être distingués :</p>
<ul>
<li>un <em>premier type de réactivité</em>, le plus simple, à travers les interactions entre les fonctions <strong><code>ui()</code></strong> et <strong><code>server()</code></strong> : comme expliqué au-dessus, cela passe par les “input” définis dans la partie <strong>ui</strong> et les “output” créés dans la partie <strong>server</strong> ; plus précisément, si on a définit un widget permettant par exemple de choisir une année donnée et qu’on l’a appelé <code>annee</code> (avec l’argument <code>id=" "</code>), alors dans la ou les fonctions <code>render...()</code> de la partie <strong>server</strong>, il faudra renvoyer à cette variable par l’indication <code>input$annee</code>. De manière générale, il faudra accoler le nom donné à un input <code>x</code> de cette façon dans le <strong>server</strong> : <code>input$x</code>.<br />
Cela peut être résumé par le schéma suivant, emprunté à l’une des sources citées en introduction :</li>
</ul>
<div class="float">
<img src="images/Reactivite%20UI%20et%20SERVER.png" alt="Reactivité UI et Server" />
<div class="figcaption">Reactivité UI et Server</div>
</div>
<div align="center">
<p><em>Source : <a href="https://laderast.github.io/gradual_shiny/introduction.html" class="uri">https://laderast.github.io/gradual_shiny/introduction.html</a></em></p>
<div align="justify">
<ul>
<li>un <em>deuxième type de réactivité à travers la base de données elle-même</em>, c’est-à-dire qui crée un objet réactif (qui sera à la fois une entrée réactive et une sortie réactive) : il faut alors utiliser, par exemple, la fonction <code>reactive({})</code> (ou son corrolaire <code>eventReactive()</code>) en l’appliquant à la base de données initiale et en renvoyant ainsi une nouvelle base, qui sera elle-même une fonction. On peut par exemple appliquer un filtre à notre base de données selon l’année : au lieu alors de préciser <code>input$annee</code> dans la fonction <code>render...()</code> comme mentionné dans le premier type de réactivité, on va en réalité créer une nouvelle base comme ceci : <code>data_reactive &lt;- reactive({ data %&gt;% filter(annee &gt; input$annee)) })</code> ; puis l’appeler ainsi pour créer le graphique : <code>output$nom_du_graphe &lt;- renderPlot({ data_reactive() })</code>, attention vous noterez l’utilisation des parenthèses après le nouveau nom de la table. De même, cela peut être résumé par le schéma suivant tiré de la même source :</li>
</ul>
<div class="float">
<img src="images/Reactivite%20base%20de%20donnees.png" alt="Reactivité base de donneées" />
<div class="figcaption">Reactivité base de donneées</div>
</div>
<div align="center">
<p><em>Source : <a href="https://laderast.github.io/gradual_shiny/app-2-reactives.html" class="uri">https://laderast.github.io/gradual_shiny/app-2-reactives.html</a></em></p>
<div align="justify">
<ul>
<li>un <em>troisième type de réactivité qui crée un contexte réactif</em>, à travers notamment la fonction <code>observe({})</code> (ou son corrolaire <code>observeEvent()</code>) : cette fonction sera utilisée losque vous souhaitez faire une opération qui dépend de plusieurs autres variables réactives, en particulier si vous souhaitez changer un input qui est dépendant d’un autre input, mais sans créer nécessairement d’output. Cela peut être utile si le choix d’une variable - les départements d’une région par exemple - est conditionnée au choix antérieur de la région en question : dans ce cas, l’utilisateur qui choisira une région dans un premier widget ne verra s’afficher que les départements de cette région dans un second widget et non tous les départements disponibles dans la base de données.</li>
</ul>
<p>Il y a bien d’autres fonctions de réactivité dans Shiny : <code>eventReactive()</code>, <code>observeEvent()</code>, <code>reactiveValues()</code>, <code>isolate()</code>, <code>req()</code>, mais qu’on ne présentera pas forcément en détails dans ce cours mais que vous pourrez utiliser dans votre application finale.</p>
<div align="justify">
<div id="un-exemple-avec-le-code-du-script-par-défaut" class="section level2 hasAnchor" number="9.3">
<h2><span class="header-section-number">9.3</span> Un exemple avec le code du script par défaut<a href="09-Intro-a-Shiny-theorique.html#un-exemple-avec-le-code-du-script-par-défaut" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Voyons ensemble un premier exemple : dans <strong>RStudio</strong>, ouvrez un nouveau fichier “Shiny Web App…” que vous intitulez comme vous le souhaitez (attention, pas d’espace permis entre deux mots par exemple), vous laissez l’option “Single File” et vous l’enregistrez de préférence dans votre projet.<br />
Un nouveau scrip s’ouvre avec par défaut un code minimal déjà écrit : on retrouve la structure du code présentée juste au-dessus, et à l’intérieur de l’UI et du Server quelques codes pour avoir un titre, un widget sous forme de “slider” et un graphique qui sera un histogramme d’après la fonction écrit dans la partie Server. Faisons tourner l’application avec le bouton en haut à droite “Run App” pour voir ce que cela donne ! On voit bien les différents éléments correspondants au code écrit dans le script R et on voit bien également que l’application est interactive puisque si l’on modifie le nombre de classes dans la barre slider, le graphique est modifié alors simultanément !</p>

</div>
<script src="js/tidyverse.js"></script>
            </section>

          </div>
        </div>
      </div>
<a href="08-Ggplot-pratique.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="10-Intro-a-Shiny-exemples.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"],
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Camille-Sisi/Data-Mining-2025/master/09-Intro-a-Shiny-theorique.Rmd",
"text": "Source"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
